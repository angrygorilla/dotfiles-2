# has to come after zsh or bashrc are sourced, because it overwrites those files.
$PWD/dependencies/fzf/install --all

# install powerline fonts
$PWD/dependencies/powerline-fonts/install.sh

# clone prezto-contrib
if [ ! $PWD/dependencies/prezto/contrib ]; then
    git clone https://github.com/belak/prezto-contrib $PWD/dependencies/prezto/contrib
else
    cd ./dependencies/prezto/contrib
    git reset --hard HEAD
    git fetch --all
    git rebase origin/master
    cd -
fi

# install pyenv plugins
PYENV_PLUGINS_DIR=$(realpath $PWD/dependencies/pyenv/plugins/)
if [ ! -d $PYENV_PLUGINS_DIR/pyenv-update ]; then
    echo "Installing pyenv-update"
    git clone git://github.com/pyenv/pyenv-update.git $PYENV_PLUGINS_DIR/pyenv-update
fi
if [ ! -d $PYENV_PLUGINS_DIR/pyenv-virtualenv ]; then
    echo "Intalling pyenv-virtualenv"
    git clone git://github.com/pyenv/pyenv-virtualenv.git $PYENV_PLUGINS_DIR/pyenv-virtualenv
fi
if [ ! -d $PYENV_PLUGINS_DIR/pyenv-ccache ]; then
    echo "Installing pyenv-cache"
    git clone git://github.com/pyenv/pyenv-ccache.git $PYENV_PLUGINS_DIR/pyenv-ccache
fi
